<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Socket Storage &mdash; The Ape 0.0.1 documentation</title>
    
    <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootswatch-3.3.4/spacelab/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="The Ape 0.0.1 documentation" href="../../index.html" />
    <link rel="up" title="Storage" href="index.html" />
    <link rel="next" title="theape.parts.storage.socketstorage.SocketStorage" href="api/theape.parts.storage.socketstorage.SocketStorage.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../index.html">
          The Ape</a>
        <span class="navbar-text navbar-version pull-left"><b>0.0.1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="../../documentation/user/index.html">User Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../documentation/developer/index.html">Developer Documentation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../log_setter.html">Log Setter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../main.html">The Main Entry Point</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../readme.html">The APE (Read Me)</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../components/index.html">The Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../infrastructure/index.html">The Ape&#8217;s Infrastructure</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Parts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../plugins/index.html">Plugins</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Socket Storage</a><ul>
<li><a class="reference internal" href="#socketstorage-model">SocketStorage Model</a></li>
<li><a class="reference internal" href="#module-theape.parts.storage.socketstorage">SocketStorage API</a></li>
<li><a class="reference internal" href="#module-diagram">Module Diagram</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="api/theape.parts.storage.socketstorage.SocketStorage.html" title="Next Chapter: theape.parts.storage.socketstorage.SocketStorage"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">theape.parts.... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="../../_sources/parts/storage/socketstorage.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="socket-storage">
<h1>Socket Storage<a class="headerlink" href="#socket-storage" title="Permalink to this headline">¶</a></h1>
<p id="ape-socket-storage">This is a module for classes that implement a file-like interface to a socket. Its main purpose is to catch socket timeout errors.</p>
<div class="section" id="socketstorage-model">
<span id="socket-storage-model"></span><h2>SocketStorage Model<a class="headerlink" href="#socketstorage-model" title="Permalink to this headline">¶</a></h2>
<p>Not all of the methods make sense (like open) so only a sub-set will be implemented. The assumption will be that a file-like object was created elsewhere and passed in to the constructor.</p>
<p class="plantuml">
<img src="../../_images/plantuml-c22a53647aa892e848c53ca2d764aa2f6ffb86c1.png" alt="SocketStorage -|&gt; BaseStorage
SocketStorage :  __init__(file)
SocketStorage : close()
SocketStorage : String read()
SocketStorage : String readline()
SocketStorage : List readlines()
SocketStorage : write(text)
SocketStorage : writeline(text)
SocketStorage : writelines(list)
SocketStorage : closed
SocketStorage : name
SocketStorage : __iter__()" />
</p>
</div>
<div class="section" id="module-theape.parts.storage.socketstorage">
<span id="socketstorage-api"></span><span id="socket-storage-api"></span><h2>SocketStorage API<a class="headerlink" href="#module-theape.parts.storage.socketstorage" title="Permalink to this headline">¶</a></h2>
<table border="1" class="longtable docutils">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="api/theape.parts.storage.socketstorage.SocketStorage.html#theape.parts.storage.socketstorage.SocketStorage" title="theape.parts.storage.socketstorage.SocketStorage"><code class="xref py py-obj docutils literal"><span class="pre">SocketStorage</span></code></a>(file_object)</td>
<td>A class to store data to a file</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="api/theape.parts.storage.socketstorage.SocketStorage.close.html#theape.parts.storage.socketstorage.SocketStorage.close" title="theape.parts.storage.socketstorage.SocketStorage.close"><code class="xref py py-obj docutils literal"><span class="pre">SocketStorage.close</span></code></a>()</td>
<td>Closes self.file if it exists, sets self.closed to True</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="api/theape.parts.storage.socketstorage.SocketStorage.write.html#theape.parts.storage.socketstorage.SocketStorage.write" title="theape.parts.storage.socketstorage.SocketStorage.write"><code class="xref py py-obj docutils literal"><span class="pre">SocketStorage.write</span></code></a>(text)</td>
<td>write text to a file</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="api/theape.parts.storage.socketstorage.SocketStorage.writeline.html#theape.parts.storage.socketstorage.SocketStorage.writeline" title="theape.parts.storage.socketstorage.SocketStorage.writeline"><code class="xref py py-obj docutils literal"><span class="pre">SocketStorage.writeline</span></code></a>(text)</td>
<td>Adds newline to end of text and writes it to the file</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="api/theape.parts.storage.socketstorage.SocketStorage.writelines.html#theape.parts.storage.socketstorage.SocketStorage.writelines" title="theape.parts.storage.socketstorage.SocketStorage.writelines"><code class="xref py py-obj docutils literal"><span class="pre">SocketStorage.writelines</span></code></a>(texts)</td>
<td>write lines to a file (does not add newline character to end of lines)</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="api/theape.parts.storage.socketstorage.SocketStorage.readline.html#theape.parts.storage.socketstorage.SocketStorage.readline" title="theape.parts.storage.socketstorage.SocketStorage.readline"><code class="xref py py-obj docutils literal"><span class="pre">SocketStorage.readline</span></code></a>()</td>
<td>Calls a single read-line returns &#8216;timed out&#8217; if socket.timeout</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="api/theape.parts.storage.socketstorage.SocketStorage.readlines.html#theape.parts.storage.socketstorage.SocketStorage.readlines" title="theape.parts.storage.socketstorage.SocketStorage.readlines"><code class="xref py py-obj docutils literal"><span class="pre">SocketStorage.readlines</span></code></a>()</td>
<td>reads all the output and returns a list of lines</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="api/theape.parts.storage.socketstorage.SocketStorage.read.html#theape.parts.storage.socketstorage.SocketStorage.read" title="theape.parts.storage.socketstorage.SocketStorage.read"><code class="xref py py-obj docutils literal"><span class="pre">SocketStorage.read</span></code></a>()</td>
<td>reads all the output and returns as a single string</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="api/theape.parts.storage.socketstorage.SocketStorage.__iter__.html#theape.parts.storage.socketstorage.SocketStorage.__iter__" title="theape.parts.storage.socketstorage.SocketStorage.__iter__"><code class="xref py py-obj docutils literal"><span class="pre">SocketStorage.__iter__</span></code></a>()</td>
<td>Traverses the file</td>
</tr>
</tbody>
</table>
<p>Although the main reason for this class is to trap socket timeouts when reading lines, it will raise an ApeError when an attempt is made to read the entire buffer (i.e. read readlines) so that if it is really an error to have a timeout, these methods can be used instead. Generally, the main interface is assumed to be the __iter__ method, though, which will catch the timeouts forever, returning the socketstorage.TIMED_OUT string (copying python&#8217;s socket.timeout message-string).</p>
</div>
<div class="section" id="module-diagram">
<span id="socket-storage-module-diagram"></span><h2>Module Diagram<a class="headerlink" href="#module-diagram" title="Permalink to this headline">¶</a></h2>
<p>[Errno 2] No such file or directory
Is pylint installed?
.. image:: classes_socketstorage.png</p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2014, the cloistered monkey.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.<br/>
    </p>
  </div>
</footer>
  </body>
</html>